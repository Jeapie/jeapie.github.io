<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Android Native SDK Installation - Jeapie - Push Notification as a Service</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Jeapie - Push Notification as a Service</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
            <li class="toctree-l1 ">
                <a class="" href="../..">Home</a>
                
            </li>
        

    
        
            <li class="toctree-l1 ">
                <a class="" href="../../Getting-Started/">Getting Started</a>
                
            </li>
        

    
        
            <span>Android</span>
            
                <li class="toctree-l2 ">
                    <a class="" href="../Android-Native-SDK-Overview/">Android Native SDK Overview</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../Android-Generating-a-GCM-Push-Notification-Key/">Android - Generating a GCM Push Notification Key</a>
                    
                </li>
            
                <li class="toctree-l2 current">
                    <a class="current" href="./">Android Native SDK Installation</a>
                    
                        <ul>
                        
                            <li class="toctree-l3"><a href="#android-native-sdk-installation">Android Native SDK Installation</a></li>
                            
                                <li><a class="toctree-l4" href="#first-you-will-need-to-import-the-required-libraries">First, you will need to import the required libraries.</a></li>
                            
                                <li><a class="toctree-l4" href="#next-you-will-need-to-add-code-to-handle-push-notifications">Next, you will need to add code to handle push notifications.</a></li>
                            
                        
                        </ul>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../Android-Native-SDK-API/">Android Native SDK API</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../Android-Notification-Customizations/">Android Notification Customizations</a>
                    
                </li>
            
        

    
        
            <span>Website sdk</span>
            
                <li class="toctree-l2 ">
                    <a class="" href="../../Websdk/Website-SDK-Overview/">Website SDK Overview</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../../Websdk/Website-SDK-HTTPS-Installation/">Website SDK HTTPS Installation</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../../Websdk/Website-SDK-HTTP-Installation/">Website SDK HTTP Installation</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../../Websdk/Website-SDK-API/">Website SDK API</a>
                    
                </li>
            
        

    
        
            <span>SERVER API</span>
            
                <li class="toctree-l2 ">
                    <a class="" href="../../API/Server-API-Overview/">Server API Overview</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../../API/notifications-View-notifications/">notifications (View notifications)</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../../API/notifications-id-View-notification/">get/notifications/:id (View notification)</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../../API/notifications-id-Track-open/">put/notifications/:id (Track open)</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../../API/notifications-Create-Notification/">post/notifications (Create Notification)</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../../API/notifications-id-Cancel-notification/">delete/notifications/:id (Cancel notification)</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Jeapie - Push Notification as a Service</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        <li>Android &raquo;</li>
      
    
    <li>Android Native SDK Installation</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <h1 id="android-native-sdk-installation">Android Native SDK Installation</h1>
<h2 id="first-you-will-need-to-import-the-required-libraries">First, you will need to import the required libraries.</h2>
<p><strong>'Google Play services' &amp; 'Android Support Library'</strong></p>
<p>Jeapie requires Google Play services(google-play-services_lib) and Android Support Library v4(android-support-v4.jar). android-support-v13.jar can be used instead if your project already requires it.</p>
<p><strong>1.</strong> Download the latest <a href="https://github.com/jeapie/Jeapie-Android-SDK/releases">Jeapie Android SDK</a>.</p>
<p><strong>2.</strong> Copy google-play-services_lib from <android-sdk>\extras\google\google_play_services\libproject\ to anywhere else but the Eclipse workspace folder. Also make the file <android-sdk>\extras\android\support\v4\android-support-v4.jar exists as you will need to copy it to your libs folder in the steps below. If your missing either one run the Android SDK Manager and install them from the Extras section.</p>
<p>"SDK Path:" is shown on this window, replace <android-sdk> with your path in the steps.</p>
<p><img alt="alt text" src="https://www.filepicker.io/api/file/ET4EcqZSwGZbmwtMP5Oa" title="Logo Title Text 1" /></p>
<p><strong>3.</strong> Import google-play-services_lib project into your workspace. Go to File&gt;Import and then go to Android&gt;Existing Android Code into Workspace.</p>
<p><img alt="alt text" src="https://www.filepicker.io/api/file/AxdWvBhiQcqS7OVxoAls" title="Logo Title Text 1" /></p>
<p><img alt="alt text" src="https://www.filepicker.io/api/file/2UdSTpQyKKT2Ewjkhrog" title="Logo Title Text 1" /></p>
<p><strong>4.</strong> Right click on your project and go to Properties. On the left Select Android and then press the "Add..." button in Library section. Pick the google-play-services_lib.</p>
<p><img alt="alt text" src="https://www.filepicker.io/api/file/yIO43Y7UQIewwDOOymuV" title="Logo Title Text 1" /></p>
<p><strong>5.</strong> Next place Jeapiesdk.jar and android-support-v4.jar into your project's libs</p>
<p><img alt="alt text" src="https://www.filepicker.io/api/file/CBTKnrPRRx8AXRrosDrJ" title="Logo Title Text 1" /></p>
<p><strong>6.</strong> Right click on your project to go Properties and select "Java Build Path" on the left. Next click on the "Order and Export" tab and make sure "Android Dependencies" is checked.</p>
<p><img alt="alt text" src="https://www.filepicker.io/api/file/W3DIMM3QTeW4SkoIb5jI" title="Logo Title Text 1" /></p>
<h2 id="next-you-will-need-to-add-code-to-handle-push-notifications">Next, you will need to add code to handle push notifications.</h2>
<p><strong>1.</strong> Import Jeapie.</p>
<pre><code class="Java">import com.Jeapie.Jeapie;
import com.Jeapie.Jeapie.NotificationOpenedHandler;
</code></pre>

<p><strong>2.</strong> Add the following to the onCreate method on your main activity. Update with your Google Project number and Jeapie app id.</p>
<pre><code class="Java">// Pass in your app's Context, Google Project number, your Jeapie App ID, and NotificationOpenedHandler
Jeapie.init(this, &quot;703322744261&quot;, &quot;5eb5a37e-b458-11e3-ac11-000c2940e62c&quot;, new ExampleNotificationOpenedHandler());
</code></pre>

<p><strong>3.</strong> Add the following private class in your activity. (or in its own class file).</p>
<pre><code class="Java">// NotificationOpenedHandler is implemented in its own class instead of adding implements to MainActivity so we don't hold on to a reference of our first activity if it gets recreated.
private class ExampleNotificationOpenedHandler implements NotificationOpenedHandler {
  /**
   * Callback to implement in your app to handle when a notification is opened from the Android status bar or
   * a new one comes in while the app is running.
   * This method is located in this activity as an example, you may have any class you wish implement NotificationOpenedHandler and define this method.
   *
   * @param message        The message string the user seen/should see in the Android status bar.
   * @param additionalData The additionalData key value pair section you entered in on jeapie.com.
   * @param isActive       Was the app in the foreground when the notification was received.
   */
  @Override
  public void notificationOpened(String message, JSONObject additionalData, boolean isActive) {
    String messageTitle = &quot;Jeapie Example&quot;, messageBody = message;

    try {
      if (additionalData != null) {
        if (additionalData.has(&quot;title&quot;))
          messageTitle = additionalData.getString(&quot;title&quot;);
        if (additionalData.has(&quot;actionSelected&quot;))
          messageBody += &quot;\nPressed ButtonID: &quot; + additionalData.getString(&quot;actionSelected&quot;);

        messageBody = message + &quot;\n\nFull additionalData:\n&quot; + additionalData.toString();
      }
    } catch (JSONException e) {
    }

    new AlertDialog.Builder(MainActivity.currentActivity)
                   .setTitle(messageTitle)
                   .setMessage(messageBody)
                   .setCancelable(true)
                   .setPositiveButton(&quot;OK&quot;, null)
                   .create().show();
  }
}
</code></pre>

<p><strong>4.</strong> Add the following onPause and onResume methods to all your Activities. This is recommend so just the notificationOpened method is called instead of getting a notification when the user is already in your app.</p>
<pre><code class="Java">@Override
protected void onPause() {
    super.onPause();
    Jeapie.onPaused();
}
@Override
protected void onResume() {
    super.onResume();
    Jeapie.onResumed();
}
</code></pre>

<p><strong>5.</strong> Add the following permissions to AndroidManifest.xml.</p>
<pre><code class="XML">&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;
&lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;
&lt;permission android:name=&quot;COM.YOUR.PACKAGE_NAME.permission.C2D_MESSAGE&quot; android:protectionLevel=&quot;signature&quot; /&gt;
&lt;uses-permission android:name=&quot;COM.YOUR.PACKAGE_NAME.permission.C2D_MESSAGE&quot; /&gt;
</code></pre>

<p><strong>6.</strong> In the application tag add the following.</p>
<pre><code class="XML">&lt;application ....&gt;
    &lt;meta-data android:name=&quot;com.google.android.gms.version&quot;
           android:value=&quot;@integer/google_play_services_version&quot; /&gt;
        &lt;activity android:name=&quot;com.Jeapie.NotificationOpenedActivity&quot;/&gt;
        &lt;receiver
         android:name=&quot;com.Jeapie.GcmBroadcastReceiver&quot;
         android:permission=&quot;com.google.android.c2dm.permission.SEND&quot; &gt;
            &lt;intent-filter&gt;
                &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;
                &lt;category android:name=&quot;COM.YOUR.PACKAGE_NAME&quot; /&gt;
            &lt;/intent-filter&gt;
        &lt;/receiver&gt;
        &lt;service android:name=&quot;com.Jeapie.GcmIntentService&quot; /&gt;
&lt;/application&gt;
</code></pre>

<p><strong>7.</strong> Replace all 3 of instances <code>COM.YOUR.PACKAGE_NAME</code> with your package name in AndroidManifest.xml.</p>
<p><strong>Proguard</strong></p>
<p>If you have proguard enabled on your project you must add the following line to your proguard config file. (Default name is proguard-project.txt).</p>
<ul>
<li><code>-dontwarn com.Jeapie.**</code></li>
<li><code>-dontwarn com.gamethrive.**</code></li>
</ul>
<p><strong>That is it for the Eclipse setup!</strong></p>
<p>The Android emulator doesn't support push notifications so you must test on a device. If you haven't done so already, make sure your <a href="../Android-Generating-a-GCM-Push-Notification-Key/">Google API key</a> is configured in Jeapie so you can send notifications out.</p>
<p><strong>Additional Documentation</strong></p>
<ul>
<li>Highly recommend following at least our <a href="../Android-Notification-Customizations/">Small Notification Icon</a> instructions to make sure your notification icon displays correctly.</li>
<li>To see all available methods, see our <a href="../Android-Native-SDK-API/">Android SDK API Documentation</a>.</li>
</ul>
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Android-Native-SDK-API/" class="btn btn-neutral float-right" title="Android Native SDK API"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Android-Generating-a-GCM-Push-Notification-Key/" class="btn btn-neutral" title="Android - Generating a GCM Push Notification Key"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
      <span><a href="../Android-Generating-a-GCM-Push-Notification-Key/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="../Android-Native-SDK-API/" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>

<!--
MkDocs version  : 0.12.2
Docs Build Date : 2015-06-03 05:50:01.718097
-->
</body>
</html>